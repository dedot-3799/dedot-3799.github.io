<!DOCTYPE html>
<html>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="manifest" href="./manifest.json">
    
<head>
    <script src="./scripts/window.js"></script>
    <script src="./scripts/containers.js"></script>
    <script src="./scripts/func.js"></script>
    <script src="./scripts/func2.js"></script>
    <script src="./scripts/theme.js"></script>
    <link rel="stylesheet" type="text/css" href="./style/main.css" />
    <style id="style"></style>
    <style id="color"></style>
    <style id="image"></style>
    <style id="image1"></style>
    <style id="glass_bk"></style>

</head>

<body>
    <div style="z-index: 999; background-color: black; height: 100%; width: 100%;" id="load">
        <h1>Loading...</h1>
    </div>
    <div class="app-containers" id="appContainers">
        <div id="container1" class="container"
            style="left: 50px; top: 50px; z-index: 1; min-width: 670px; height: auto;"
            onmousedown="bringToFront('container1', event)">
            <div class="buttons">
                <div class="button" onclick="minimizeWindow('container1')">-</div>
                <div class="button" onclick="maximizeWindow('container1')">□</div>
                <div class="button" onclick="closeWindow('container1')">&times;</div>
            </div>
            <div class="app-container" style="overflow-y: auto; max-height: 65vh;">
                <h1 id="title" style="user-select: none;">素数判定機</h1>

                <label for="res" id="inputLabel" style="user-select: none;">数値を入力してください:</label>
                <input type="number" id="res" placeholder="整数を入力" onchange="inputStore();removeCH()">

                <button id="checkButton" onclick="r()">判定</button>
                <button id="optionButton" onclick="openModal()">オプション</button>
                <div id="resu1t"></div>

                <div id="result"></div>
                <div id="ti"></div>
                <br>
                <a href="#" style="text-decoration:underline; color:inherit;" onclick="openHelpModal()"
                    id="helpLink">このツールについて</a>&emsp;<a href="#" style="text-decoration:underline; color:inherit;"
                    onclick="openRandomModal()" id="rand_open">素数判定機用乱数生成機</a>
            </div>

            <script src="./scripts/prime.js"></script>
        </div>

        <div id="container2" class="container" style="left: 200px; top: 50px; z-index: 2;"
            onmousedown="bringToFront('container2', event)">
            <div class="buttons">
                <div class="button" onclick="minimizeWindow('container2')">-</div>
                <div class="button" onclick="maximizeWindow('container2')">□</div>
                <div class="button" onclick="closeWindow('container2')">&times;</div>
            </div>
            <div id="option" class="modal">
                <div class="modal-content">
                    <h2 id="option_title">オプション</h2>
                    <div class="modal-howto" id="container2_F">
                        <p id="mode_select">モード選択:</p>
                        <select id="ty" name="engine">
                            <option value="null" id="ty_null">デフォルト</option>
                            <optgroup label="旧型" id="ty_lb_old">
                                <option value="ov1" id="ty_ov1">全部割る(非推奨)</option>
                                <option value="ov2" id="ty_ov2">平方根まで割る</option>
                                <option value="ov3" id="ty_ov3">奇数で割る</option>
                                <option value="ov4" id="ty_ov4">2と3の倍数以外で割る</option>
                                <option value="ov5" id="ty_ov5">2と3と5の倍数以外で割る</option>
                                <option value="ov6" id="ty_ov6">2,3,5,7の倍数以外で割る</option>
                                <option value="ov7" id="ty_ov7">2,3,5,7,11の倍数以外で割る</option>
                                <option value="ov10" id="ty_ov10">倍数指定</option>
                            </optgroup>
                            <optgroup label="新型" id="ty_lb_new">
                                <option value="nv1" id="ty_nv1">全部割る(非推奨)</option>
                                <option value="nv2" id="ty_nv2">平方根まで割る</option>
                                <option value="nv3" id="ty_nv3">奇数で割る</option>
                                <option value="nv4" id="ty_nv4">2,3の倍数以外で割る</option>
                                <option value="nv5" id="ty_nv5">2,3,5の倍数以外で割る</option>
                                <option value="nv6" id="ty_nv6">2,3,5,7の倍数以外で割る</option>
                                <option value="nv7" id="ty_nv7">2,3,5,7,11の倍数以外で割る</option>
                                <option value="nv10" id="ty_nv10">倍数指定</option>
                            </optgroup>
                            <optgroup label="約数型" id="ty_lb_fac">
                                <option value="f" id="ty_f">約数の数から判定</option>
                            </optgroup>
                            <optgroup label="素因数分解(新型)" id="ty_lb_p">
                                <option value="npv1" id="ty_nvp1">全部割る(非推奨)</option>
                                <option value="npv2" id="ty_nvp2">平方根まで割る</option>
                                <option value="npv3" id="ty_nvp3">奇数で割る</option>
                                <option value="npv4" id="ty_nvp4">2,3の倍数以外で割る</option>
                                <option value="npv5" id="ty_nvp5">2,3,5の倍数以外で割る</option>
                                <option value="npv6" id="ty_nvp6">2,3,5,7の倍数以外で割る</option>
                                <option value="npv7" id="ty_nvp7">2,3,5,7,11の倍数以外で割る</option>
                            </optgroup>
                            <optgroup label="マルチスレッド型" id="ty_lb_mlti">
                                <option value="mu_ov6" id="ty_mu_ov6">旧型マルチスレッド</option>
                                <option value="mu_nv6" id="ty_mu_nv6">新型マルチスレッド</option>
                            </optgroup>
                            <optgroup label="マルチスレッド型(BigInt)" id="ty_lb_mlti_bigint">
                                <option value="mu_big" id="ty_mu_big">旧型マルチスレッド(BigInt)</option>
                                <option value="mu_big_v10" id="ty_mu_big">旧型マルチスレッド(倍数指定)</option>
                            </optgroup>
                            <optgroup label="その他の決定論的素数判定法" id="ty_other_bigint">
                                <option value="apr" id="apr">APR-CL素数判定法</option>
                                <option value="aks" id="aks">AKS素数判定法(ß版)</option>
                            </optgroup>
                        </select>
                        <p id="NumberOfWorker">マルチスレッド時のスレッド数:</p>
                        <input type="number" id="worker" value=""><br>
                        <button onclick="document.getElementById('worker').value = navigator.hardwareConcurrency"
                            id="apply">推奨値</button>
                        <br>
                        <button onclick="closeModal();" id="apply">設定を適用</button>
                    </div>
                </div>
            </div>
        </div>
        <div id="container3" class="container" style="left: 300px; top: 50px;  z-index: 3;"
            onmousedown="bringToFront('container3', event)">
            <div class="buttons">
                <div class="button" onclick="minimizeWindow('container3')">-</div>
                <div class="button" onclick="maximizeWindow('container3')">□</div>
                <div class="button" onclick="closeWindow('container3')">&times;</div>
            </div>
            <div id="themeManagerModal" class="modal">
                <div class="modal-content">
                    <h2 id="themeManagerTitle">テーマ設定</h2>
                    <div class="modal-howto" id="container3_F">
                        <label id="themeSelectTitle">基本テーマ設定:</label><br>
                        <select id="themeSelects" onchange="changeTheme()">
                            <option value="light" id="select_light_mode">ライトモード</option>
                            <option value="dark" id="select_dark_mode">ダークモード</option>
                            <option value="darker" id="select_darker_mode">ミッドナイト</option>
                            <option value="light-blue" id="select_light_blue_mode">ライトブルー</option>
                            <option value="dark-blue" id="select_dark_blue_mode">ダークブルー</option>
                            <option value="sunset" id="select_sunset_mode">サンセット</option>
                            <option value="system" id="select_system">システム準拠</option>
                            <option value="color-custom" id="select_color_custom">カスタム色</option>
                            <option value="Image-custom" id="select_Image_custom">カスタム背景</option>
                        </select>
                        <br><br>
                        <h3 id="color-custom-title">カスタムカラー設定</h3>
                        <label id="image-custom-bkgr">背景イメージ:</label>
                        <input type="file" id="custom_image_background" onchange="changeCustomTheme()" />
                        <p id="info_bkgr_img"></p><br id="cl1">
                        <label id="image-custom-resize">背景イメージのリサイズ:</label>
                        <input type="checkbox" id="resize_ch" checked><br id="cl14">
                        <label id="resize_ratio_ti">背景イメージのリサイズ比:</label>
                        <input type="number" id="resize_ratio" value="1" /><br id="cl15">
                        <label id="color-custom-bkgr">背景色:</label>
                        <input type="color" id="custom_color_background" value="#000000" /><br id="cl2">
                        <label id="color-custom-char">文字色:</label>
                        <input type="color" id="custom_char" value="#FFFFFF" /><br id="cl4">
                        <label id="color-custom-button">ボタン色:</label>
                        <input type="color" id="custom_button" value="#555555" /><br id="cl6">
                        <label id="color-custom-container">アプリコンテナ色:</label>
                        <input type="color" id="custom_mainapp" value="#222222" /><br id="cl8">
                        <label id="color-custom-button_chr">ボタン文字色:</label>
                        <input type="color" id="custom_button_chr" value="#FFFFFF" /><br id="cl10">
                        <label id="glass_ti">アプリコンテナを半透明化:</label><input type="checkbox" id="glass_ch"
                            onchange="GLASS()"><br id="cl13">
                        <button onclick="changeCustomTheme()" id="apply-color">設定を適用</button>
                        <br id="cl11"><br id="cl12">
                        <button onclick="closeWindow('container3');changeTheme();" id="apply">設定を適用して閉じる</button>
                    </div>
                </div>
            </div>
        </div>
        <div id="container4" class="container" style="left: 50px; top: 50px;  z-index: 4;"
            onmousedown="bringToFront('container4', event)">
            <div class="buttons">
                <div class="button" onclick="minimizeWindow('container4')">-</div>
                <div class="button" onclick="maximizeWindow('container4')">□</div>
                <div class="button" onclick="closeWindow('container4')">&times;</div>
            </div>

            <div id="container4_F" class="modal-howto">
                <h2 id="howto_title">素数判定機について</h2>
                <p>素数判定、素因数分解、約数表示をするツールです。<br>フォームに整数を入力し、判定ボタンを押すことで判定できます。</p>
                <h3>判定法について</h3>
                <p>このツールでは、素数判定法の中では最も計算効率が悪いけれど、最も理解しやすい「試し割り法」を用いた判定、高速な判定が可能な「APR-CL素数判定法」をサポートしています。<br>「試し割り法」と「APR-CL素数判定法」は、決定論的素数判定法なので、「ミラー–ラビン素数判定法」や「フェルマーテスト」のように曖昧な判定をすることはありません。
                </p>
                <h3>オプションについて</h3>
                <p>この素数判定機では、さまざまなアルゴリズムを選ぶことができます。<br>「旧型」は、一般的な試し割り法を実装したものです。<br>「新型」は、「旧型」の不要な演算などを省き、計算の最適化を行ったものであり、環境によっては「旧型」の数十倍の速度で計算が可能です。<br>「約数の数から判定」は、入力された整数のすべての約数を出力し、約数の個数が2個ならば素数であると判定します。<br>「素因数分解型」は、入力された整数を素因数分解し、分解結果がその整数以外の素因子を含んでいない場合、素数であると判定します。<br>「マルチスレッド型」は、WebWoker
                    APIを利用した並列処理により、試し割り法を並列して演算します。<br>「マルチスレッド時のスレッド数」は、並列演算させる個数を指定できます。<br>「倍数指定」では、2からNまでの倍数以外で割ることで判定します。スレッド数指定の欄にNを指定します。</p>
                <h3>ショートカットキーについて</h3>
                <p>このツールでは、以下のようなショートカットキーが登録されています。<br>・Enter (macOS等の場合はReturnキー) : "判定"ボタン<br>・Shift + F :
                    素因数分解<br>・Shift + G : 約数列挙<br>・Shift + J : デフォルトモードの素数判定<br>・Shift + M :
                    マルチスレッドモードでの素数判定<br>・Shift + R : 16桁の奇数をランダムに生成<br>・Shift + Q : 再読み込み</p>
                <h3>注意点</h3>
                <p>・このツールでは、JavaScriptの制約上、2^53以上の値をサポートしていません。また、素数の性質上、1以下の値はサポートしていません。<br>・APR-CL素数判定法以外の2^53以上2^64以下の値の素数判定と約数列挙が選択された場合、自動的にマルチスレッドで判定されます。<br>・このツールがデータ等を収集するようなことは一切いたしません。<br>・入力された値が小数の場合、小数部分は無視されます。<br>・秒数が極端に細かく出ることがありますが、JavaScriptの計算上に出てしまう誤差ですのでバグではありません。
                </p>
                <button onclick="closeHelpModal()" id="close">閉じる</button>
            </div>
        </div>
        <div id="container5" class="container" style="left: 300px; top: 50px;  z-index: 5;"
            onmousedown="bringToFront('container5', event)">
            <div class="buttons">
                <div class="button" onclick="minimizeWindow('container5')">-</div>
                <div class="button" onclick="maximizeWindow('container5')">□</div>
                <div class="button" onclick="closeWindow('container5')">&times;</div>
            </div>
            <div class="modal-content">
                <h2 id="rand_title">素数判定機用乱数生成機</h2>
                <div class="modal-howto" id="container5_F">
                    <p>
                        <input type="checkbox" id="isOddNumber" checked />
                        <label for="isOddNumber" id="isOddNumberCheck">奇数のみ</label>
                        <input type="hidden" id="isOddNumber" value="" />
                    </p>
                    <p>
                        <input type="checkbox" id="islog" checked />
                        <label for="islog" id="isLogCheck">対数による生成</label>
                        <input type="hidden" id="islog" value="" />
                    </p>
                    <p><button onclick="createRandomNumber()" id="generate">生成</button></p>
                    <p id="RandCreatedResultDescription"><br></p>
                    <p id="RandCreatedResult"><br></p>
                    <p><button onclick="ApplyRandomNumber()" id="apply">素数判定機に入力</button></p>
                </div>
            </div>
        </div>
        <div id="container6" class="container" style="left: 300px; top: 50px; z-index: 6;"
            onmousedown="bringToFront('container6', event)">
            <div class="buttons">
                <div class="button" onclick="minimizeWindow('container6')">-</div>
                <div class="button" onclick="maximizeWindow('container6')">□</div>
                <div class="button" onclick="closeWindow('container6')">&times;</div>
            </div>
            <div class="modal-content">
                <h1 id="info_title" style="user-select: none;">Infomation</h1>
                <div class="modal-howto" id="container6_F">
                    <p id="thread_info">論理コア数:不明</p>
                    <p id="Type_info">ブラウザ:不明</p>
                    <p id="mem">メモリ:不明</p>
                    <p id="dis">ディスプレイ:不明</p>
                    <br>
                    <p>このツールのバージョン:v1.1.3</p>
                </div>
            </div>
            <script>
                function fw() {
                    dis.innerHTML = `ディスプレイ:${window.innerWidth} x ${window.innerHeight}`;
                    thread_info.innerHTML = "論理コア数:" + (String(navigator.hardwareConcurrency) || "不明");
                    var sBrowser, sUsrAg = navigator.userAgent;

                    // The order matters here, and this may report false positives for unlisted browsers.

                    if (sUsrAg.indexOf("Firefox") > -1) {
                        sBrowser = "Mozilla Firefox";
                        // "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:61.0) Gecko/20100101 Firefox/61.0"
                    } else if (sUsrAg.indexOf("SamsungBrowser") > -1) {
                        sBrowser = "Samsung Internet";
                        // "Mozilla/5.0 (Linux; Android 9; SAMSUNG SM-G955F Build/PPR1.180610.011) AppleWebKit/537.36 (KHTML, like Gecko) SamsungBrowser/9.4 Chrome/67.0.3396.87 Mobile Safari/537.36
                    } else if (sUsrAg.indexOf("Opera") > -1 || sUsrAg.indexOf("OPR") > -1) {
                        sBrowser = "Opera";
                        // "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.102 Safari/537.36 OPR/57.0.3098.106"
                    } else if (sUsrAg.indexOf("Trident") > -1) {
                        sBrowser = "Microsoft Internet Explorer";
                        // "Mozilla/5.0 (Windows NT 10.0; WOW64; Trident/7.0; .NET4.0C; .NET4.0E; Zoom 3.6.0; wbx 1.0.0; rv:11.0) like Gecko"
                    } else if (sUsrAg.indexOf("Edge") > -1) {
                        sBrowser = "Microsoft Edge (Legacy)";
                        // "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.36 Edge/16.16299"
                    } else if (sUsrAg.indexOf("Edg") > -1) {
                        sBrowser = "Microsoft Edge (Chromium)";
                        // Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36 Edg/91.0.864.64
                    } else if (sUsrAg.indexOf("Chrome") > -1) {
                        sBrowser = "Google Chrome or Chromium";
                        // "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Ubuntu Chromium/66.0.3359.181 Chrome/66.0.3359.181 Safari/537.36"
                    } else if (sUsrAg.indexOf("Safari") > -1) {
                        sBrowser = "Apple Safari";
                        // "Mozilla/5.0 (iPhone; CPU iPhone OS 11_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/11.0 Mobile/15E148 Safari/604.1 980x1306"
                    } else {
                        sBrowser = "unknown";
                    }
                    Type_info.innerHTML = "ブラウザ:" + sBrowser;
                    if (navigator.deviceMemory) {
                        mem.innerHTML = "メモリ:" + String(navigator.deviceMemory) + "GiB";
                    }
                }
                window.onresize = fw;
                window.onload = fw;
            </script>
        </div>
        <div id="container7" class="container" style="left: 300px; top: 50px; z-index: 7;"
            onmousedown="bringToFront('container7', event)">
            <div class="buttons">
                <div class="button" onclick="minimizeWindow('container7')">-</div>
                <div class="button" onclick="maximizeWindow('container7')">□</div>
                <div class="button" onclick="closeWindow('container7')">&times;</div>
            </div>
            <link rel="stylesheet" type="text/css" href="./style/calc.css" />
            <div class="modal-content">

                <h1 id="cal_title" style="user-select: none;">電卓</h1>
                <div class="modal-howto" id="container7_F">
                    <table>
                        <tbody id="pad">
                            <tr>
                                <input type="text" id="display" class="disp"
                                    style="overflow-x: auto; user-select: none;" disabled>
                            </tr>
                            <tr>
                                <td><button class="btn" onclick="appendToDisplay('1')">1</button></td>
                                <td><button class="btn" onclick="appendToDisplay('2')">2</button></td>
                                <td><button class="btn" onclick="appendToDisplay('3')">3</button></td>
                                <td><button class="btn" onclick="appendToDisplay('+')">+</button></td>
                                <td><button class="btn" onclick="appendToDisplay('**')">^</button></td>
                            </tr>
                            <tr>
                                <td><button class="btn" onclick="appendToDisplay('4')">4</button></td>
                                <td><button class="btn" onclick="appendToDisplay('5')">5</button></td>
                                <td><button class="btn" onclick="appendToDisplay('6')">6</button></td>
                                <td><button class="btn" onclick="appendToDisplay('-')">-</button></td>
                                <td><button class="btn" onclick="deleteDisplay()">←</button></td>
                            </tr>
                            <tr>
                                <td><button class="btn" onclick="appendToDisplay('7')">7</button></td>
                                <td><button class="btn" onclick="appendToDisplay('8')">8</button></td>
                                <td><button class="btn" onclick="appendToDisplay('9')">9</button></td>
                                <td><button class="btn" onclick="appendToDisplay('*')">*</button></td>
                                <td><button class="btn" onclick="clearDisplay()">C</button></td>
                            <tr>
                                <td><button class="btn" onclick="appendToDisplay('0')">0</button></td>
                                <td><button class="btn" onclick="appendToDisplay('.')">.</button></td>
                                <td><button class="btn" onclick="calculateResult()">=</button></td>
                                <td><button class="btn" onclick="appendToDisplay('/')">/</button></td>

                                <td><button class="btn" onclick="inputDispValue()"
                                        style="font-size: 10px;">input</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <script src="./scripts/calc.js"></script>
            </div>
        </div>
        <div id="container8" class="container" style="left: 300px; top: 50px; z-index: 8;"
            onmousedown="bringToFront('container8', event)">
            <div class="buttons">
                <div class="button" onclick="minimizeWindow('container8')">-</div>
                <div class="button" onclick="maximizeWindow('container8')">□</div>
                <div class="button" onclick="closeWindow('container8')">&times;</div>
            </div>
            <div class="modal-content">
                <h1 id="NPBP_title">前の素数・次の素数</h1>
                <div class="modal-howto" id="container8_F">
                    <p><label for="NPBP_input" id="inputLabel" style="user-select: none;">数値を入力してください:</label>
                        <input type="number" id="NPBP_input" placeholder="整数を入力"><button onclick="inputPrNumber()"
                            id="apply">素数判定機から入力</button>
                    </p>
                    <p>モード選択:
                        <select id="NB">
                            <option value="NP">次の素数</option>
                            <option value="BP">前の素数</option>
                        </select>
                        <button onclick="NPBP()" id="generate">計算</button>
                    </p>
                    <p id="NPBP_result">計算結果:</p>
                    <p><button onclick="ApplyPrNumber()" id="apply">結果を素数判定機に入力</button><button onclick="copy_npbp()"
                            id="apply">結果をコピー</button></p>
                </div>
            </div>
        </div>
        <div id="container9" class="container" style="left: 300px; top: 50px; z-index: 9;"
            onmousedown="bringToFront('container9', event)">
            <div class="buttons">
                <div class="button" onclick="minimizeWindow('container9')">-</div>
                <div class="button" onclick="maximizeWindow('container9')">□</div>
                <div class="button" onclick="closeWindow('container9')">&times;</div>
            </div>
            <div class="modal-content">
                <h1 id="radix_title">進数変換機</h1>
                <div class="modal-howto" id="container9_F">
                    <p>変換元の値: <input type="text" id="radix_bef"></p>
                    <p>変換元の値の進数: <input type="number" placeholder="2以上36以下の整数を入力" id="radix_bef_r"></p>
                    <p>変換後の値の進数: <input type="number" placeholder="2以上36以下の整数を入力" id="radix_aft_r"></p>
                    <p><button onclick="convRadixNumber()" id="apply">変換</button></p>
                    <p>結果:</p>
                    <p id="radix_result"><br></p>
                    <p><button onclick="convRadixNumber_Apply()" id="apply">結果を素数判定機に入力</button><button
                            onclick="convRadixNumber_Copy()" id="apply">結果をコピー</button></p>
                </div>
            </div>
        </div>
        <div id="container10" class="container" style="left: 300px; top: 50px; z-index: 10;"
            onmousedown="bringToFront('container10', event)">
            <div class="buttons">
                <div class="button" onclick="minimizeWindow('container10')">-</div>
                <div class="button" onclick="maximizeWindow('container10')">□</div>
                <div class="button" onclick="closeWindow('container10')">&times;</div>
            </div>
            <div class="modal-howto" id="container10_F">
                <h1 style="user-select: none;">ヘロンの公式計算ツール</h1>
                <h3>ヘロンの公式を用いて三角形の3辺の長さから面積を計算します。</h3>
                <p>辺1: <input type="number" id="hr_s_1"></p>
                <p>辺2: <input type="number" id="hr_s_2"></p>
                <p>辺3: <input type="number" id="hr_s_3"></p>
                <p><button onclick="hr_reset()" id="generate">リセット</button></p>
                <p><button onclick="hr_cal()" id="generate">計算</button></p>
                <p>計算結果:</p>
                <p id="hr_result"><br></p>
                <p><button onclick="hr_cp()" id="apply">計算結果をクリップボードにコピー</button></p>
            </div>
            <a href="#" style="text-decoration:underline; color:inherit;  justify-content: center;"
                onclick="openWindow('container12')" id="helpLink">このツールについて</a>
        </div>
        <div id="container11" class="container" style="left: 300px; top: 50px; z-index: 11;"
            onmousedown="bringToFront('container11', event)">
            <div class="buttons">
                <div class="button" onclick="minimizeWindow('container11')">-</div>
                <div class="button" onclick="maximizeWindow('container11')">□</div>
                <div class="button" onclick="closeWindow('container11')">&times;</div>
            </div>
            <div class="modal-howto" style="overflow-x: scroll;" id="container11_F">
                <h1 style="user-select: none;">文字列変換ツール</h1>
                <h3>指定した文字を変換します。</h3>
                <p>変換したい文字: <input type="text" id="text_conv"></p>
                <label id="convSelectTitle">操作を選択:</label>
                <select id="convSelects">
                    <option value="single_byte" id="select_single_byte">英数・記号を半角に変換</option>
                    <option value="full_pitch" id="select_full_pitch">英数・一部記号を全角に変換</option>
                    <option value="URL_Encode" id="select_URL_Encode">URLエンコードする</option>
                    <option value="URL_Decode" id="select_URL_Decode">URLデコードする</option>
                    <option value="second_to_time" id="select_second_to_time">秒数(数字)から合計時間を換算</option>
                    <option value="count" id="select_count">文字数をカウントする</option>
                    <option value="2n" id="select_2n">2進法の数字を10進法に換算</option>
                    <option value="16n" id="select_16n">16進法の数字を10進法に換算</option>
                    <option value="n2" id="select_n2">10進法の数字を2進法に換算</option>
                    <option value="n16" id="select_n16">10進法の数字を16進法に換算</option>
                </select>
                <br><br>
                <button id="generate" onclick="txt_convert()">変換</button>
                <br><br>
                <div style="justify-content: left;">
                    <span style="justify-content: left;">変換結果:</span>
                    <p id="output_conv" style="justify-content: left;"></p>
                </div>
                <button id="apply" onclick="copy()">変換結果をクリップボードにコピー</button>
            </div>
        </div>
        <div id="container12" class="container" style="left: 300px; top: 50px; z-index: 12"
            onmousedown="bringToFront('container12', event)">
            <div class="buttons">
                <div class="button" onclick="minimizeWindow('container12')">-</div>
                <div class="button" onclick="maximizeWindow('container12')">□</div>
                <div class="button" onclick="closeWindow('container12')">&times;</div>
            </div>
            <div class="modal-howto" id="container12_F">
                <h1 style="user-select: none;">ヘロンの公式計算ツールについて</h1>
                <h2>どのようなツールか</h2>
                <p>本ツールはヘロンの公式を用いて三角形の面積を計算するツールです。</p>
                <h2>ヘロンの公式とは</h2>
                <p>ヘロンの公式（ヘロンのこうしき、英: Heron's formula）とは、3辺の長さが a, b, c などと分かっている三角形の面積 S
                    を求める公式のことである。<br>アレクサンドリアのヘロンが彼の著書『Metrica』の中で証明を与えていることから彼に帰せられる。(Wikipediaより引用)</p>
                <h2>使い方</h2>
                <p>3辺の長さをそれぞれ入力し、"計算"を押すことで計算できます。</p>
                <h2>注意事項</h2>
                <p>・計算にはJavaScriptを使用しています。<br>・JavaScriptの制約上、計算結果が2^53以上になる場合の正確さは保証できません。<br>・このツールでは球面三角形をサポートしていません。<br>・本ツールによる不具合が生じた場合、制作者はいかなる責任も負いません。
                </p>
                <button id="apply" onclick="closeWindow('container12')">閉じる</button>
            </div>
        </div>
        <div id="container13" class="container" style="left: 300px; top: 50px; z-index: 13"
            onmousedown="bringToFront('container13', event)">
            <div class="buttons">
                <div class="button" onclick="minimizeWindow('container13')">-</div>
                <div class="button" onclick="maximizeWindow('container13')">□</div>
                <div class="button" onclick="closeWindow('container13')">&times;</div>
            </div>
            <div class="modal-howto" id="container13_F">
                <h1 style="user-select: none;">体感温度と不快指数</h1>
                <p>気温[℃]: &emsp13;&emsp13;<input type="number" id="temp_t"></p>
                <p>湿度[%]:&emsp;<input type="number" id="temp_h"></p>
                <p>風速[m/s]: <input type="number" id="temp_w"></p>
                <p><button onclick="temp_reset()" id="generate">リセット</button></p>
                <p><button onclick="DI_fc()" id="generate">計算</button></p>

                <p id="temp_result"></p><br>
            </div>
            <br>
            <script src="./scripts/FTDIC.js"></script>
        </div>
        <div id="container14" class="container" style="left: 300px; top: 50px; z-index: 14"
            onmousedown="bringToFront('container14', event)">
            <div class="buttons">
                <div class="button" onclick="minimizeWindow('container14')">-</div>
                <div class="button" onclick="maximizeWindow('container14')">□</div>
                <div class="button" onclick="closeWindow('container14')">&times;</div>
            </div>
            <div class="modal-howto" id="container14_F">
                <h1>乱数生成ツール</h1>
                <h3>重複のない乱数を生成します。</h3>
                <p>最小値: <input type="number" id="rd_min"></p>
                <p>最大値: <input type="number" id="rd_max"></p>
                <p>何回生成するか: <input type="number" id="rd_count"></p>
                <p>除外する数字: <input type="text" id="rd_remove"></p>
                <p>配列の区切り文字: <input type="text" id="rd_sp"></p>
                <p><input type="button" onclick="rand_exec()" value="生成" id="generate"></p>
                <p id="random_results_title" style="display: none;">生成結果:</p>
                <p id="random_results"></p>
                <p id="time_pa_rdm"></p>
                <input type="button" onclick="rdm_copy()" value="結果をコピー" id="apply">
                <script src="./scripts/rand.js"></script>
            </div>
        </div>
        <div id="container15" class="container" style="left: 300px; top: 50px; z-index: 15"
            onmousedown="bringToFront('container15', event)">
            <div class="buttons">
                <div class="button" onclick="minimizeWindow('container15')">-</div>
                <div class="button" onclick="maximizeWindow('container15')">□</div>
                <div class="button" onclick="closeWindow('container15')">&times;</div>
            </div>
            <div class="modal-content">
                <link rel="stylesheet" href="./style/ot.css">
                <script src="./scripts/ot.js"></script>
                <h2>オセロ</h2>
                <div id="ot_app">
                    <div id="ot_board"></div>
                </div>
                <button id="resetButton" class="button">リセット</button><button id="CPButton"
                    class="button">CPUに任せる</button>
                <button id="RDButton" class="button">ランダム</button>
                <button id="STButton" class="button">設定</button>
                <p id="result_ot"></p>
            </div>
        </div>
        <div id="container16" class="container" style="left: 300px; top: 50px; z-index: 16"
            onmousedown="bringToFront('container16', event)">
            <div class="buttons">
                <div class="button" onclick="minimizeWindow('container16')">-</div>
                <div class="button" onclick="maximizeWindow('container16')">□</div>
                <div class="button" onclick="closeWindow('container16')">&times;</div>
            </div>
                <link rel="stylesheet" href="./style/resizer.css">
                <div class="modal-howto">
                    <h1>画像リサイザとフォーマット変換</h1>
                    <input type="file" id="re_upload" accept="image/*">
                    <div id="re_thumbnail-container">
                        <h3>元画像:</h3>
                        <img id="re_thumbnail" src="" height="200px">
                    </div>
                    <div id="re_controls">
                        <label for="re_width-input">幅 (px):</label>
                        <input type="number" id="re_width-input" min="1">
                        <label for="re_height-input">高さ (px):</label>
                        <input type="number" id="re_height-input" min="1">
                    </div>
                    <div id="re_format-controls"><p>
                        <label for="re_compression-input">圧縮率(%):</label>
                        <input type="number" id="re_compression-input" min="1"></p>
                        <label for="re_format-select">フォーマット:</label>
                        <select id="re_format-select">
                            <option value="png">PNG</option>
                            <option value="jpeg">JPEG</option>
                            <option value="tiff">TIFF</option>
                            <option value="bmp">BMP</option>
                            <option value="webp">WEBP</option>
                        </select>
                    </div>
                    <button id="re_download-btn">画像をダウンロード</button>
                </div>
                <script src="scripts/resizer.js"></script>

        </div>
        <div id="container17" class="container" style="left: 300px; top: 50px; z-index: 17"
            onmousedown="bringToFront('container17', event)">
            <div class="buttons">
                <div class="button" onclick="minimizeWindow('container17')">-</div>
                <div class="button" onclick="maximizeWindow('container17')">□</div>
                <div class="button" onclick="closeWindow('container17')">&times;</div>
            </div>
            <h1 style="padding: 30px; user-select: none;">設定</h1>
            <p><h2>CPUの強さ(何手先まで読むか):</h2></p><p><input type="number" id="ot_cpN" placeholder="整数を入力"></p>
            <p><h2>スレッド数:</h2></p><p><input type="number" id="ot_th" placeholder="整数を入力"></p>
            <p><button onclick="closeWindow('container17');" id="apply">設定を適用して閉じる</button></p>
        </div>
        <div id="container18" class="container" style="left: 300px; top: 50px; z-index: 18"
            onmousedown="bringToFront('container18', event)">
            <div class="buttons">
                <div class="button" onclick="minimizeWindow('container18')">-</div>
                <div class="button" onclick="maximizeWindow('container18')">□</div>
                <div class="button" onclick="closeWindow('container18')">&times;</div>
            </div>
            <h1 style="padding: 30px; user-select: none;">title</h1>
            <!-- Add your content for container -->
        </div>
        <!-- Add more containers as needed -->
    </div>


    <footer>
        <a href="#" style="text-decoration:underline;" onclick="openWindow('container1');setTopWindow('container1');"
            id="open_main">素数判定機</a>
        <a href="#" style="text-decoration:underline;" onclick="openWindow('container3')" id="helpLink">テーマ設定</a>
        <a href="#" style="text-decoration:underline;" onclick="openWindow('container14')" id="cal_open">乱数生成機</a>
        <a href="#" style="text-decoration:underline;" onclick="openWindow('container7')" id="cal_open">電卓</a>
        <a href="#" style="text-decoration:underline;" onclick="openWindow('container6')" id="info_open">情報</a>
        <a href="#" style="text-decoration:underline;" onclick="openWindow('container8')" id="NPBP_open">前の素数・次の素数</a>
        <a href="#" style="text-decoration:underline;" onclick="openWindow('container9')" id="rdx_open">進数変換機</a>
        <a href="#" style="text-decoration:underline;" onclick="openWindow('container11')" id="str_open">文字列変換</a>
        <a href="#" style="text-decoration:underline;" onclick="openWindow('container10')" id="str_open">ヘロンの公式</a>
        <a href="#" style="text-decoration:underline;" onclick="openWindow('container13')" id="str_open">体感温度と不快指数</a>
        <a href="#" style="text-decoration:underline;" onclick="openWindow('container15')" id="str_open">オセロ</a>
        <a href="#" style="text-decoration:underline;" onclick="openWindow('container16')" id="str_open">リサイザー</a>
        <p id="version_info">MultiFusion Pro Suite (Version 1.0.0) &emsp; © 2024 dedot-3799.</p>
    </footer>
</body>
<script>
    firstCheck()
    window.onresize = resizeWindowLocation;
</script>
<script type="module">
    import mfd from "./manifest.json" assert { type: "json" };
    let kd = JSON.parse(mfd);
    let versionif = kd["version"];
    document.getElementById("version_info").innerHTML = `MultiFusion Pro Suite (Version ${versionif}) &emsp; © 2024 dedot-3799.`;
</script>
</html>
